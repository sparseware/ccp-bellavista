//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: com/sparseware/bellavista/external/fhir/Patient.java
//
//  Created by decoteaud on 11/18/15.
//

#include "IOSCharArray.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/exception/ApplicationException.h"
#include "com/appnativa/rare/net/ActionLink.h"
#include "com/appnativa/util/CharArray.h"
#include "com/appnativa/util/CharScanner.h"
#include "com/appnativa/util/json/JSONArray.h"
#include "com/appnativa/util/json/JSONObject.h"
#include "com/appnativa/util/json/JSONTokener.h"
#include "com/appnativa/util/json/JSONWriter.h"
#include "com/sparseware/bellavista/ActionPath.h"
#include "com/sparseware/bellavista/external/fhir/FHIRJSONWatcher.h"
#include "com/sparseware/bellavista/external/fhir/FHIRServer.h"
#include "com/sparseware/bellavista/external/fhir/FHIRUtils.h"
#include "com/sparseware/bellavista/external/fhir/Patient.h"
#include "com/sparseware/bellavista/service/ContentWriter.h"
#include "com/sparseware/bellavista/service/HttpHeaders.h"
#include "com/sparseware/bellavista/service/aRemoteService.h"
#include "com/sparseware/bellavista/service/iHttpConnection.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/io/Reader.h"
#include "java/io/Writer.h"
#include "java/lang/Exception.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"

@implementation ComSparsewareBellavistaExternalFhirPatient

- (id)init {
  if (self = [super init]) {
    flagsSupported_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk([ComSparsewareBellavistaExternalFhirFHIRServer getInstance])) getResourceWithNSString:@"Flag"] != nil;
    appointmentsSupported_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk([ComSparsewareBellavistaExternalFhirFHIRServer getInstance])) getResourceWithNSString:@"Appointment"] != nil;
  }
  return self;
}

- (void)alertsWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                   withCCPBVActionPath:(CCPBVActionPath *)path
                 withJavaIoInputStream:(JavaIoInputStream *)data
                  withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  if (!flagsSupported_) {
    [self noDataWithCCPBViHttpConnection:conn withCCPBVActionPath:path withBoolean:YES withCCPBVHttpHeaders:headers];
    return;
  }
  [self noDataWithCCPBViHttpConnection:conn withCCPBVActionPath:path withBoolean:YES withCCPBVHttpHeaders:headers];
}

- (void)allergiesWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                      withCCPBVActionPath:(CCPBVActionPath *)path
                    withJavaIoInputStream:(JavaIoInputStream *)data
                     withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(server_)) getPatientID];
  id w;
  [ComSparsewareBellavistaExternalFhirPatient writeAllergiesWithComSparsewareBellavistaExternalFhirFHIRServer:server_ withId:w = [ComSparsewareBellavistaExternalFhirFHIRUtils createWriterWithCCPBVActionPath:path withCCPBVContentWriter:[((id<CCPBViHttpConnection>) nil_chk(conn)) getContentWriter] withCCPBVHttpHeaders:headers withBoolean:YES] withNSString:id_];
  if ([w isKindOfClass:[RAREUTJSONWriter class]]) {
    (void) [((RAREUTJSONWriter *) check_class_cast(w, [RAREUTJSONWriter class])) endObject];
  }
}

- (void)allergyWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                    withCCPBVActionPath:(CCPBVActionPath *)path
                  withJavaIoInputStream:(JavaIoInputStream *)data
                   withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  [self noDocumentWithCCPBViHttpConnection:conn withCCPBVActionPath:path withCCPBVHttpHeaders:headers];
}

- (void)careteamWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                     withCCPBVActionPath:(CCPBVActionPath *)path
                   withJavaIoInputStream:(JavaIoInputStream *)data
                    withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  JavaUtilArrayList *team = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk([ComSparsewareBellavistaExternalFhirFHIRServer getInstance])) getCareTeam];
  if (team == nil || [team size] == 0) {
    [self noDataWithCCPBViHttpConnection:conn withCCPBVActionPath:path withBoolean:YES withCCPBVHttpHeaders:headers];
  }
  else {
    id writer = [ComSparsewareBellavistaExternalFhirFHIRUtils createWriterWithCCPBVActionPath:path withCCPBVContentWriter:[((id<CCPBViHttpConnection>) nil_chk(conn)) getContentWriter] withCCPBVHttpHeaders:headers withBoolean:YES];
    RAREUTJSONWriter *jw;
    JavaIoWriter *w;
    if ([writer isKindOfClass:[RAREUTJSONWriter class]]) {
      jw = (RAREUTJSONWriter *) check_class_cast(writer, [RAREUTJSONWriter class]);
      w = nil;
    }
    else {
      w = (JavaIoWriter *) check_class_cast(writer, [JavaIoWriter class]);
      jw = nil;
    }
    if (jw != nil) {
      (void) [jw object];
      (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_columns"])) array])) valueWithId:@"id"])) valueWithId:@"xmpp_alias"])) valueWithId:@"name"])) valueWithId:@"role"])) valueWithId:@"is_physician"])) endArray];
      (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_rows"])) array];
      JavaUtilArrayList *list = [[JavaUtilArrayList alloc] initWithInt:5];
      for (NSString * __strong member in team) {
        (void) [RAREUTCharScanner getTokensWithNSString:member withChar:'^' withBoolean:NO withJavaUtilList:list];
        (void) [jw object];
        (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"id"])) valueWithId:[list getWithInt:0]];
        (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"xmpp_alias"])) valueWithId:[list getWithInt:1]];
        (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"name"])) valueWithId:[list getWithInt:2]];
        (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"role"])) valueWithId:[list getWithInt:3]];
        (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"is_physician"])) valueWithId:[list getWithInt:4]];
        (void) [jw endObject];
      }
      (void) [jw endArray];
      (void) [jw endObject];
    }
    else {
      for (NSString * __strong member in team) {
        [((JavaIoWriter *) nil_chk(w)) writeWithNSString:member];
        [w writeWithInt:0x000a];
      }
    }
  }
}

- (void)flagsWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                  withCCPBVActionPath:(CCPBVActionPath *)path
                withJavaIoInputStream:(JavaIoInputStream *)data
                 withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  if (!flagsSupported_) {
    [self noDataWithCCPBViHttpConnection:conn withCCPBVActionPath:path withBoolean:YES withCCPBVHttpHeaders:headers];
    return;
  }
  NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(server_)) getPatientID];
  id writer = [ComSparsewareBellavistaExternalFhirFHIRUtils createWriterWithCCPBVActionPath:path withCCPBVContentWriter:[((id<CCPBViHttpConnection>) nil_chk(conn)) getContentWriter] withCCPBVHttpHeaders:headers withBoolean:YES];
  RAREActionLink *l = [server_ createLinkWithNSString:@"Flag" withNSStringArray:[IOSObjectArray arrayWithObjects:(id[]){ @"patient._id", id_ } count:2 type:[IOSClass classWithClass:[NSString class]]]];
  @try {
    RAREUTJSONWriter *jw;
    JavaIoWriter *w;
    if ([writer isKindOfClass:[RAREUTJSONWriter class]]) {
      jw = (RAREUTJSONWriter *) check_class_cast(writer, [RAREUTJSONWriter class]);
      w = nil;
    }
    else {
      w = (JavaIoWriter *) check_class_cast(writer, [JavaIoWriter class]);
      jw = nil;
    }
    if (jw != nil) {
      (void) [jw object];
      (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_columns"])) array])) valueWithId:@"description"])) endArray];
      (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_rows"])) array];
    }
    RAREUTJSONTokener *t = [[RAREUTJSONTokener alloc] initWithJavaIoReader:[((RAREActionLink *) nil_chk(l)) getReader]];
    RAREUTCharArray *ca = [[RAREUTCharArray alloc] init];
    id<ComSparsewareBellavistaExternalFhirFHIRJSONWatcher_iCallback> cb = [[ComSparsewareBellavistaExternalFhirPatient_$1 alloc] initWithComSparsewareBellavistaExternalFhirPatient:self withRAREUTJSONWriter:jw withJavaIoWriter:w withRAREUTCharArray:ca];
    [t setWatcherWithRAREUTJSONTokener_iWatcher:[[ComSparsewareBellavistaExternalFhirFHIRJSONWatcher alloc] initWithComSparsewareBellavistaExternalFhirFHIRJSONWatcher_iCallback:cb]];
    (void) [[RAREUTJSONObject alloc] initWithRAREUTJSONTokener:t];
    [t dispose];
    if (jw != nil) {
      (void) [jw endArray];
      (void) [jw endObject];
    }
  }
  @finally {
    [((RAREActionLink *) nil_chk(l)) closeEx];
  }
}

- (void)problemWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                    withCCPBVActionPath:(CCPBVActionPath *)path
                  withJavaIoInputStream:(JavaIoInputStream *)data
                   withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  [self noDocumentWithCCPBViHttpConnection:conn withCCPBVActionPath:path withCCPBVHttpHeaders:headers];
}

- (void)problemsWithCCPBViHttpConnection:(id<CCPBViHttpConnection>)conn
                     withCCPBVActionPath:(CCPBVActionPath *)path
                   withJavaIoInputStream:(JavaIoInputStream *)data
                    withCCPBVHttpHeaders:(CCPBVHttpHeaders *)headers {
  NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(server_)) getPatientID];
  id writer = [ComSparsewareBellavistaExternalFhirFHIRUtils createWriterWithCCPBVActionPath:path withCCPBVContentWriter:[((id<CCPBViHttpConnection>) nil_chk(conn)) getContentWriter] withCCPBVHttpHeaders:headers withBoolean:YES];
  RAREActionLink *l = [server_ createLinkWithNSString:@"Condition" withNSStringArray:[IOSObjectArray arrayWithObjects:(id[]){ @"patient._id", id_ } count:2 type:[IOSClass classWithClass:[NSString class]]]];
  @try {
    RAREUTJSONWriter *jw;
    JavaIoWriter *w;
    if ([writer isKindOfClass:[RAREUTJSONWriter class]]) {
      jw = (RAREUTJSONWriter *) check_class_cast(writer, [RAREUTJSONWriter class]);
      w = nil;
    }
    else {
      w = (JavaIoWriter *) check_class_cast(writer, [JavaIoWriter class]);
      jw = nil;
    }
    if (jw != nil) {
      (void) [jw object];
      (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_columns"])) array])) valueWithId:@"problem"])) valueWithId:@"status"])) endArray];
      (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_rows"])) array];
    }
    RAREUTJSONTokener *t = [[RAREUTJSONTokener alloc] initWithJavaIoReader:[((RAREActionLink *) nil_chk(l)) getReader]];
    RAREUTCharArray *ca = [[RAREUTCharArray alloc] init];
    id<ComSparsewareBellavistaExternalFhirFHIRJSONWatcher_iCallback> cb = [[ComSparsewareBellavistaExternalFhirPatient_$2 alloc] initWithComSparsewareBellavistaExternalFhirPatient:self withRAREUTJSONWriter:jw withJavaIoWriter:w withRAREUTCharArray:ca];
    [t setWatcherWithRAREUTJSONTokener_iWatcher:[[ComSparsewareBellavistaExternalFhirFHIRJSONWatcher alloc] initWithComSparsewareBellavistaExternalFhirFHIRJSONWatcher_iCallback:cb]];
    (void) [[RAREUTJSONObject alloc] initWithRAREUTJSONTokener:t];
    [t dispose];
    if (jw != nil) {
      (void) [jw endArray];
      (void) [jw endObject];
    }
  }
  @finally {
    [((RAREActionLink *) nil_chk(l)) closeEx];
  }
}

+ (void)writeAllergiesWithComSparsewareBellavistaExternalFhirFHIRServer:(ComSparsewareBellavistaExternalFhirFHIRServer *)server
                                                                 withId:(id)writer
                                                           withNSString:(NSString *)id_ {
  RAREUTJSONWriter *jw;
  JavaIoWriter *w;
  if ([writer isKindOfClass:[RAREUTJSONWriter class]]) {
    jw = (RAREUTJSONWriter *) check_class_cast(writer, [RAREUTJSONWriter class]);
    w = nil;
  }
  else {
    w = (JavaIoWriter *) check_class_cast(writer, [JavaIoWriter class]);
    jw = nil;
  }
  RAREActionLink *l = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(server)) createLinkWithNSString:@"AllergyIntolerance" withNSStringArray:[IOSObjectArray arrayWithObjects:(id[]){ @"patient", id_ } count:2 type:[IOSClass classWithClass:[NSString class]]]];
  @try {
    if (jw != nil) {
      (void) [jw object];
      (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_columns"])) array])) valueWithId:@"allergen"])) valueWithId:@"reactions"])) endArray];
      (void) [((RAREUTJSONWriter *) nil_chk([jw keyWithNSString:@"_rows"])) array];
    }
    RAREUTJSONTokener *t = [[RAREUTJSONTokener alloc] initWithJavaIoReader:[((RAREActionLink *) nil_chk(l)) getReader]];
    RAREUTCharArray *sb = [[RAREUTCharArray alloc] init];
    id<ComSparsewareBellavistaExternalFhirFHIRJSONWatcher_iCallback> cb = [[ComSparsewareBellavistaExternalFhirPatient_$3 alloc] initWithComSparsewareBellavistaExternalFhirFHIRServer:server withRAREUTCharArray:sb withRAREUTJSONWriter:jw withJavaIoWriter:w];
    [t setWatcherWithRAREUTJSONTokener_iWatcher:[[ComSparsewareBellavistaExternalFhirFHIRJSONWatcher alloc] initWithComSparsewareBellavistaExternalFhirFHIRJSONWatcher_iCallback:cb]];
    RAREUTJSONObject *o = [[RAREUTJSONObject alloc] initWithRAREUTJSONTokener:t];
    [t dispose];
    if (jw != nil) {
      (void) [jw endArray];
      (void) [jw endObject];
    }
  }
  @catch (JavaLangException *e) {
    [RAREPlatform debugLogWithNSString:[RAREApplicationException getMessageExWithJavaLangThrowable:e]];
  }
  @finally {
    [((RAREActionLink *) nil_chk(l)) closeEx];
  }
}

+ (id<JavaUtilList>)parseParticipantWithComSparsewareBellavistaExternalFhirFHIRServer:(ComSparsewareBellavistaExternalFhirFHIRServer *)server
                                                                  withRAREUTJSONArray:(RAREUTJSONArray *)participants {
  int len = [((RAREUTJSONArray *) nil_chk(participants)) size];
  JavaUtilArrayList *list = [[JavaUtilArrayList alloc] initWithInt:len];
  for (int i = 0; i < len; i++) {
    RAREUTJSONObject *o = [participants getJSONObjectWithInt:i];
    NSString *tname = nil;
    NSString *tcode = nil;
    RAREUTJSONObject *oo = [((RAREUTJSONObject *) nil_chk(o)) optJSONObjectWithNSString:@"individual"];
    ComSparsewareBellavistaExternalFhirPatient_Practitioner *p;
    if (oo != nil) {
      NSString *name = [oo optStringWithNSString:@"display"];
      NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(server)) getIDWithNSString:[oo getStringWithNSString:@"reference"] withBoolean:NO];
      [list addWithId:p = [[ComSparsewareBellavistaExternalFhirPatient_Practitioner alloc] initWithNSString:id_ withNSString:name withNSString:tcode withNSString:tname]];
      RAREUTJSONArray *a = [o optJSONArrayWithNSString:@"type"];
      int alen = a == nil ? 0 : [a length];
      for (int n = 0; n < alen; n++) {
        ComSparsewareBellavistaExternalFhirFHIRUtils_MedicalCode *mc = [ComSparsewareBellavistaExternalFhirFHIRUtils getMedicalCodeWithRAREUTJSONObject:[((RAREUTJSONArray *) nil_chk(a)) getJSONObjectWithInt:i]];
        if (mc != nil) {
          [p addTypeWithNSString:[mc getBestCode] withNSString:[mc getBestText]];
        }
      }
    }
  }
  return list;
}

- (void)copyAllFieldsTo:(ComSparsewareBellavistaExternalFhirPatient *)other {
  [super copyAllFieldsTo:other];
  other->appointmentsSupported_ = appointmentsSupported_;
  other->flagsSupported_ = flagsSupported_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "alertsWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "allergiesWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "allergyWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "careteamWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "flagsWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "problemWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "problemsWithCCPBViHttpConnection:withCCPBVActionPath:withJavaIoInputStream:withCCPBVHttpHeaders:", NULL, "V", 0x1, "JavaIoIOException" },
    { "writeAllergiesWithComSparsewareBellavistaExternalFhirFHIRServer:withId:withNSString:", NULL, "V", 0x9, "JavaIoIOException" },
    { "parseParticipantWithComSparsewareBellavistaExternalFhirFHIRServer:withRAREUTJSONArray:", NULL, "LJavaUtilList", 0x9, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "flagsSupported_", NULL, 0x0, "Z" },
    { "appointmentsSupported_", NULL, 0x0, "Z" },
  };
  static J2ObjcClassInfo _ComSparsewareBellavistaExternalFhirPatient = { "Patient", "com.sparseware.bellavista.external.fhir", NULL, 0x1, 9, methods, 2, fields, 0, NULL};
  return &_ComSparsewareBellavistaExternalFhirPatient;
}

@end
@implementation ComSparsewareBellavistaExternalFhirPatient_Practitioner

- (id)initWithNSString:(NSString *)practitionerID
          withNSString:(NSString *)practitionerName {
  if (self = [super init]) {
    self->practitionerID_ = practitionerID;
    self->practitionerName_ = practitionerName;
  }
  return self;
}

- (id)initWithNSString:(NSString *)practitionerID
          withNSString:(NSString *)practitionerName
          withNSString:(NSString *)typeCode
          withNSString:(NSString *)typeName {
  if (self = [super init]) {
    self->practitionerID_ = practitionerID;
    self->practitionerName_ = practitionerName;
    self->typeName_ = typeName;
    self->typeCode_ = typeCode;
  }
  return self;
}

- (BOOL)isAttending {
  if ([@"ATND" isEqual:typeCode_]) {
    return YES;
  }
  return typeCodes_ == nil ? NO : [typeCodes_ indexOfWithId:@"ATND"] != -1;
}

- (BOOL)isAdmitting {
  if ([@"ADM" isEqual:typeCode_]) {
    return YES;
  }
  return typeCodes_ == nil ? NO : [typeCodes_ indexOfWithId:@"ADM"] != -1;
}

- (BOOL)isTypeWithNSString:(NSString *)type {
  if ([((NSString *) nil_chk(type)) isEqual:typeCode_]) {
    return YES;
  }
  return typeCodes_ == nil ? NO : [typeCodes_ indexOfWithId:type] != -1;
}

- (void)addTypeWithNSString:(NSString *)code
               withNSString:(NSString *)name {
  if (typeCode_ == nil) {
    typeCode_ = code;
    typeName_ = name;
  }
  else {
    if (typeCodes_ == nil) {
      typeCodes_ = [[JavaUtilArrayList alloc] initWithInt:3];
      typeNames_ = [[JavaUtilArrayList alloc] initWithInt:3];
    }
    [((id<JavaUtilList>) nil_chk(typeCodes_)) addWithId:code];
    [((id<JavaUtilList>) nil_chk(typeNames_)) addWithId:name];
  }
}

- (BOOL)isProvider {
  return [@"REFB" isEqual:typeCode_];
}

- (void)copyAllFieldsTo:(ComSparsewareBellavistaExternalFhirPatient_Practitioner *)other {
  [super copyAllFieldsTo:other];
  other->practitionerID_ = practitionerID_;
  other->practitionerName_ = practitionerName_;
  other->typeCode_ = typeCode_;
  other->typeCodes_ = typeCodes_;
  other->typeName_ = typeName_;
  other->typeNames_ = typeNames_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "isAttending", NULL, "Z", 0x1, NULL },
    { "isAdmitting", NULL, "Z", 0x1, NULL },
    { "isTypeWithNSString:", NULL, "Z", 0x1, NULL },
    { "isProvider", NULL, "Z", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "practitionerID_", NULL, 0x1, "LNSString" },
    { "practitionerName_", NULL, 0x1, "LNSString" },
    { "typeName_", NULL, 0x1, "LNSString" },
    { "typeCode_", NULL, 0x1, "LNSString" },
    { "typeNames_", NULL, 0x0, "LJavaUtilList" },
    { "typeCodes_", NULL, 0x0, "LJavaUtilList" },
  };
  static J2ObjcClassInfo _ComSparsewareBellavistaExternalFhirPatient_Practitioner = { "Practitioner", "com.sparseware.bellavista.external.fhir", "Patient", 0x9, 4, methods, 6, fields, 0, NULL};
  return &_ComSparsewareBellavistaExternalFhirPatient_Practitioner;
}

@end
@implementation ComSparsewareBellavistaExternalFhirPatient_$1

- (id)entryEncounteredWithRAREUTJSONObject:(RAREUTJSONObject *)entry_ {
  @try {
    do {
      entry_ = [((RAREUTJSONObject *) nil_chk(entry_)) getJSONObjectWithNSString:@"resource"];
      NSString *status = [((RAREUTJSONObject *) nil_chk(entry_)) getStringWithNSString:@"status"];
      if (![@"active" isEqual:status]) {
        break;
      }
      NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(this$0_->server_)) getIDWithNSString:[entry_ getStringWithNSString:@"id"] withBoolean:NO];
      RAREUTJSONObject *code = [entry_ getJSONObjectWithNSString:@"code"];
      NSString *flag = [((RAREUTJSONObject *) nil_chk(code)) optStringWithNSString:@"text" withNSString:nil];
      if (flag == nil) {
        ComSparsewareBellavistaExternalFhirFHIRUtils_MedicalCode *mc = [ComSparsewareBellavistaExternalFhirFHIRUtils getMedicalCodeWithRAREUTJSONArray:[code optJSONArrayWithNSString:@"coding"]];
        flag = mc == nil ? nil : [mc getBestText];
      }
      if (flag == nil) {
        [RAREPlatform debugLogWithNSString:[NSString stringWithFormat:@"Could not parse entry:\n%@", [entry_ toStringWithInt:2]]];
        break;
      }
      if (val$jw_ != nil) {
        (void) [val$jw_ object];
        (void) [((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"description"])) object];
        (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"linkedData"])) valueWithId:id_])) keyWithNSString:@"value"])) valueWithId:flag];
        (void) [val$jw_ endObject];
        (void) [val$jw_ endObject];
      }
      else {
        [((JavaIoWriter *) nil_chk(val$w_)) writeWithNSString:id_];
        [val$w_ writeWithInt:(unichar) '|'];
        [ComSparsewareBellavistaExternalFhirFHIRUtils writeQuotedStringIfNecessaryWithJavaIoWriter:val$w_ withNSString:flag withRAREUTCharArray:val$ca_];
        [val$w_ writeWithInt:0x000a];
      }
    }
    while (NO);
  }
  @catch (JavaLangException *e) {
  }
  return nil;
}

- (id)initWithComSparsewareBellavistaExternalFhirPatient:(ComSparsewareBellavistaExternalFhirPatient *)outer$
                                    withRAREUTJSONWriter:(RAREUTJSONWriter *)capture$0
                                        withJavaIoWriter:(JavaIoWriter *)capture$1
                                     withRAREUTCharArray:(RAREUTCharArray *)capture$2 {
  this$0_ = outer$;
  val$jw_ = capture$0;
  val$w_ = capture$1;
  val$ca_ = capture$2;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "entryEncounteredWithRAREUTJSONObject:", NULL, "LNSObject", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LComSparsewareBellavistaExternalFhirPatient" },
    { "val$jw_", NULL, 0x1012, "LRAREUTJSONWriter" },
    { "val$w_", NULL, 0x1012, "LJavaIoWriter" },
    { "val$ca_", NULL, 0x1012, "LRAREUTCharArray" },
  };
  static J2ObjcClassInfo _ComSparsewareBellavistaExternalFhirPatient_$1 = { "$1", "com.sparseware.bellavista.external.fhir", "Patient", 0x8000, 1, methods, 4, fields, 0, NULL};
  return &_ComSparsewareBellavistaExternalFhirPatient_$1;
}

@end
@implementation ComSparsewareBellavistaExternalFhirPatient_$2

- (id)entryEncounteredWithRAREUTJSONObject:(RAREUTJSONObject *)entry_ {
  @try {
    entry_ = [((RAREUTJSONObject *) nil_chk(entry_)) getJSONObjectWithNSString:@"resource"];
    NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(this$0_->server_)) getIDWithNSString:[((RAREUTJSONObject *) nil_chk(entry_)) getStringWithNSString:@"id"] withBoolean:NO];
    ComSparsewareBellavistaExternalFhirFHIRUtils_MedicalCode *mc = [ComSparsewareBellavistaExternalFhirFHIRUtils getMedicalCodeWithRAREUTJSONArray:[((RAREUTJSONObject *) nil_chk([entry_ getJSONObjectWithNSString:@"code"])) getJSONArrayWithNSString:@"coding"]];
    NSString *problem = [((ComSparsewareBellavistaExternalFhirFHIRUtils_MedicalCode *) nil_chk(mc)) getBestText];
    NSString *status = [entry_ optStringWithNSString:@"clinicalStatus" withNSString:nil];
    if (val$jw_ != nil) {
      (void) [val$jw_ object];
      (void) [((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"problem"])) object];
      (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"linkedData"])) valueWithId:id_])) keyWithNSString:@"value"])) valueWithId:problem];
      (void) [val$jw_ endObject];
      if (status != nil) {
        (void) [((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"status"])) valueWithId:status];
      }
      (void) [val$jw_ endObject];
    }
    else {
      [((JavaIoWriter *) nil_chk(val$w_)) writeWithNSString:id_];
      [val$w_ writeWithInt:(unichar) '|'];
      [ComSparsewareBellavistaExternalFhirFHIRUtils writeQuotedStringIfNecessaryWithJavaIoWriter:val$w_ withNSString:problem withRAREUTCharArray:val$ca_];
      [val$w_ writeWithInt:(unichar) '^'];
      if (status != nil) {
        [ComSparsewareBellavistaExternalFhirFHIRUtils writeQuotedStringIfNecessaryWithJavaIoWriter:val$w_ withNSString:status withRAREUTCharArray:val$ca_];
      }
      [val$w_ writeWithInt:0x000a];
    }
  }
  @catch (JavaLangException *e) {
  }
  return nil;
}

- (id)initWithComSparsewareBellavistaExternalFhirPatient:(ComSparsewareBellavistaExternalFhirPatient *)outer$
                                    withRAREUTJSONWriter:(RAREUTJSONWriter *)capture$0
                                        withJavaIoWriter:(JavaIoWriter *)capture$1
                                     withRAREUTCharArray:(RAREUTCharArray *)capture$2 {
  this$0_ = outer$;
  val$jw_ = capture$0;
  val$w_ = capture$1;
  val$ca_ = capture$2;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "entryEncounteredWithRAREUTJSONObject:", NULL, "LNSObject", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LComSparsewareBellavistaExternalFhirPatient" },
    { "val$jw_", NULL, 0x1012, "LRAREUTJSONWriter" },
    { "val$w_", NULL, 0x1012, "LJavaIoWriter" },
    { "val$ca_", NULL, 0x1012, "LRAREUTCharArray" },
  };
  static J2ObjcClassInfo _ComSparsewareBellavistaExternalFhirPatient_$2 = { "$2", "com.sparseware.bellavista.external.fhir", "Patient", 0x8000, 1, methods, 4, fields, 0, NULL};
  return &_ComSparsewareBellavistaExternalFhirPatient_$2;
}

@end
@implementation ComSparsewareBellavistaExternalFhirPatient_$3

- (id)entryEncounteredWithRAREUTJSONObject:(RAREUTJSONObject *)entry_ {
  @try {
    entry_ = [((RAREUTJSONObject *) nil_chk(entry_)) getJSONObjectWithNSString:@"resource"];
    NSString *id_ = [((ComSparsewareBellavistaExternalFhirFHIRServer *) nil_chk(val$server_)) getIDWithNSString:[((RAREUTJSONObject *) nil_chk(entry_)) getStringWithNSString:@"id"] withBoolean:NO];
    NSString *substance = [((RAREUTJSONObject *) nil_chk([entry_ getJSONObjectWithNSString:@"substance"])) getStringWithNSString:@"text"];
    (void) [((RAREUTCharArray *) nil_chk(val$sb_)) setLengthWithInt:0];
    RAREUTJSONArray *a = [entry_ optJSONArrayWithNSString:@"event"];
    int len = (a == nil) ? 0 : [a length];
    BOOL semi = NO;
    for (int i = 0; i < len; i++) {
      RAREUTJSONArray *ma = [((RAREUTJSONObject *) nil_chk([((RAREUTJSONArray *) nil_chk(a)) getJSONObjectWithInt:i])) optJSONArrayWithNSString:@"manifestation"];
      for (id __strong o in nil_chk(ma)) {
        if (semi) {
          (void) [val$sb_ appendWithChar:';'];
        }
        else {
          semi = YES;
        }
        (void) [val$sb_ appendWithNSString:[((RAREUTJSONObject *) check_class_cast(o, [RAREUTJSONObject class])) getStringWithNSString:@"text"]];
      }
    }
    if (val$jw_ != nil) {
      (void) [val$jw_ object];
      (void) [((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"allergen"])) object];
      (void) [((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"linkedData"])) valueWithId:id_])) keyWithNSString:@"value"])) valueWithId:substance];
      (void) [val$jw_ endObject];
      (void) [((RAREUTJSONWriter *) nil_chk([val$jw_ keyWithNSString:@"reactions"])) valueWithId:[val$sb_ description]];
      (void) [val$jw_ endObject];
    }
    else {
      [((JavaIoWriter *) nil_chk(val$w_)) writeWithNSString:id_];
      [val$w_ writeWithInt:(unichar) '|'];
      [val$w_ writeWithNSString:substance];
      [val$w_ writeWithInt:(unichar) '^'];
      [val$w_ writeWithCharArray:val$sb_->A_ withInt:0 withInt:val$sb_->_length_];
      [val$w_ writeWithInt:0x000a];
    }
  }
  @catch (JavaLangException *e) {
  }
  return nil;
}

- (id)initWithComSparsewareBellavistaExternalFhirFHIRServer:(ComSparsewareBellavistaExternalFhirFHIRServer *)capture$0
                                        withRAREUTCharArray:(RAREUTCharArray *)capture$1
                                       withRAREUTJSONWriter:(RAREUTJSONWriter *)capture$2
                                           withJavaIoWriter:(JavaIoWriter *)capture$3 {
  val$server_ = capture$0;
  val$sb_ = capture$1;
  val$jw_ = capture$2;
  val$w_ = capture$3;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "entryEncounteredWithRAREUTJSONObject:", NULL, "LNSObject", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "val$server_", NULL, 0x1012, "LComSparsewareBellavistaExternalFhirFHIRServer" },
    { "val$sb_", NULL, 0x1012, "LRAREUTCharArray" },
    { "val$jw_", NULL, 0x1012, "LRAREUTJSONWriter" },
    { "val$w_", NULL, 0x1012, "LJavaIoWriter" },
  };
  static J2ObjcClassInfo _ComSparsewareBellavistaExternalFhirPatient_$3 = { "$3", "com.sparseware.bellavista.external.fhir", "Patient", 0x8000, 1, methods, 4, fields, 0, NULL};
  return &_ComSparsewareBellavistaExternalFhirPatient_$3;
}

@end
