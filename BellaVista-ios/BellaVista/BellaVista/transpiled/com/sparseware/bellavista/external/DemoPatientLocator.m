//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: com/sparseware/bellavista/external/DemoPatientLocator.java
//
//  Created by decoteaud on 5/11/15.
//

#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/iFunctionCallback.h"
#include "com/appnativa/rare/net/ActionLink.h"
#include "com/appnativa/rare/ui/event/iChangeListener.h"
#include "com/appnativa/rare/viewer/WindowViewer.h"
#include "com/appnativa/util/ObjectHolder.h"
#include "com/appnativa/util/iCancelable.h"
#include "com/sparseware/bellavista/Utils.h"
#include "com/sparseware/bellavista/external/DemoPatientLocator.h"
#include "com/sparseware/bellavista/external/aPatientLocator.h"
#include "java/lang/Throwable.h"
#include "java/net/MalformedURLException.h"
#include "java/util/EventObject.h"

@implementation CCPBVDemoPatientLocator

- (id)init {
  return [super init];
}

- (void)dispose {
}

- (void)getNearbyPatientsWithJavaUtilEventObject:(JavaUtilEventObject *)event
                       withRAREiFunctionCallback:(id<RAREiFunctionCallback>)cb {
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  id<RAREiFunctionCallback> mcb = [[CCPBVDemoPatientLocator_$1 alloc] initWithCCPBVDemoPatientLocator:self withRAREiFunctionCallback:cb];
  @try {
    RAREActionLink *link = [CCPBVUtils createLinkWithRAREiWidget:w withNSString:@"/hub/main/util/patients/nearby" withBoolean:NO];
    (void) [((RAREWindowViewer *) nil_chk(w)) getContentAsListWithRAREiWidget:w withId:link withBoolean:YES withRAREiFunctionCallback:mcb];
  }
  @catch (JavaNetMalformedURLException *e) {
    [CCPBVUtils handleErrorWithJavaLangThrowable:e];
  }
}

- (void)delayCallbackWithRAREiFunctionCallback:(id<RAREiFunctionCallback>)cb
                                        withId:(id)result {
  [RAREPlatform invokeLaterWithJavaLangRunnable:[[CCPBVDemoPatientLocator_$2 alloc] initWithRAREiFunctionCallback:cb withId:result] withInt:200];
}

- (void)getNearbyLocationsWithJavaUtilEventObject:(JavaUtilEventObject *)event
                        withRAREiFunctionCallback:(id<RAREiFunctionCallback>)cb {
}

- (BOOL)isNearbyPatientsSupported {
  return YES;
}

- (BOOL)isNearbyLocationsSupported {
  return NO;
}

- (void)stopListeningForNearbyPatients {
}

- (void)stopListeningForNearbyLocations {
}

- (void)startListeningForNearbyPatients {
  [RAREPlatform invokeLaterWithJavaLangRunnable:[[CCPBVDemoPatientLocator_$3 alloc] initWithCCPBVDemoPatientLocator:self]];
}

- (void)startListeningForNearbyLocations {
}

- (void)ignoreEventWithJavaUtilEventObject:(JavaUtilEventObject *)e {
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "delayCallbackWithRAREiFunctionCallback:withId:", NULL, "V", 0x4, NULL },
    { "isNearbyPatientsSupported", NULL, "Z", 0x1, NULL },
    { "isNearbyLocationsSupported", NULL, "Z", 0x1, NULL },
  };
  static J2ObjcClassInfo _CCPBVDemoPatientLocator = { "DemoPatientLocator", "com.sparseware.bellavista.external", NULL, 0x1, 3, methods, 0, NULL, 0, NULL};
  return &_CCPBVDemoPatientLocator;
}

@end
@implementation CCPBVDemoPatientLocator_$1

- (void)finishedWithBoolean:(BOOL)canceled
                     withId:(id)returnValue {
  if ([returnValue isKindOfClass:[JavaLangThrowable class]]) {
    [((id<RAREiFunctionCallback>) nil_chk(val$cb_)) finishedWithBoolean:YES withId:returnValue];
  }
  else {
    [this$0_ delayCallbackWithRAREiFunctionCallback:val$cb_ withId:((RAREUTObjectHolder *) nil_chk(returnValue))->value_];
  }
}

- (id)initWithCCPBVDemoPatientLocator:(CCPBVDemoPatientLocator *)outer$
            withRAREiFunctionCallback:(id<RAREiFunctionCallback>)capture$0 {
  this$0_ = outer$;
  val$cb_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LCCPBVDemoPatientLocator" },
    { "val$cb_", NULL, 0x1012, "LRAREiFunctionCallback" },
  };
  static J2ObjcClassInfo _CCPBVDemoPatientLocator_$1 = { "$1", "com.sparseware.bellavista.external", "DemoPatientLocator", 0x8000, 0, NULL, 2, fields, 0, NULL};
  return &_CCPBVDemoPatientLocator_$1;
}

@end
@implementation CCPBVDemoPatientLocator_$2

- (void)run {
  [((id<RAREiFunctionCallback>) nil_chk(val$cb_)) finishedWithBoolean:NO withId:val$result_];
}

- (id)initWithRAREiFunctionCallback:(id<RAREiFunctionCallback>)capture$0
                             withId:(id)capture$1 {
  val$cb_ = capture$0;
  val$result_ = capture$1;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "val$cb_", NULL, 0x1012, "LRAREiFunctionCallback" },
    { "val$result_", NULL, 0x1012, "LNSObject" },
  };
  static J2ObjcClassInfo _CCPBVDemoPatientLocator_$2 = { "$2", "com.sparseware.bellavista.external", "DemoPatientLocator", 0x8000, 0, NULL, 2, fields, 0, NULL};
  return &_CCPBVDemoPatientLocator_$2;
}

@end
@implementation CCPBVDemoPatientLocator_$3

- (void)run {
  [((id<RAREiChangeListener>) nil_chk(this$0_->changeListener_)) stateChangedWithJavaUtilEventObject:[[CCPBVaPatientLocator_LocatorChangeEvent alloc] initWithId:this$0_ withCCPBVaPatientLocator_LocatorChangeTypeEnum:[CCPBVaPatientLocator_LocatorChangeTypeEnum PATIENTS]]];
}

- (id)initWithCCPBVDemoPatientLocator:(CCPBVDemoPatientLocator *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LCCPBVDemoPatientLocator" },
  };
  static J2ObjcClassInfo _CCPBVDemoPatientLocator_$3 = { "$3", "com.sparseware.bellavista.external", "DemoPatientLocator", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_CCPBVDemoPatientLocator_$3;
}

@end
